<!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./style.css"/>
  </head>
  <div id="navigation">
    <span id="btns">
      <span onclick="window.parent.debugger.mode('elements')" class="select-wrapper"><img src="./assets/icons/elements.svg" id="elements-mode"></span>
      <span onclick="window.parent.debugger.mode('view')" class="select-wrapper"><img src="./assets/icons/devices.svg" id="view-mode"></span>
    </span>
    <span class="vertical-line"></span>
    <span id="tabs"><span class="nav-btn active" id="btn-console" onclick="window.parent.debugger.view('console')">Console</span><span class="nav-btn"  id="btn-elements" onclick="window.parent.debugger.view('elements')">Elements</span></span>
    <span class="right">
      <span id="msg-labels">
        <span class="label-wrapper" id="label-x"><img src="./assets/icons/x.svg">0</span>
        <span class="label-wrapper" id="label-!"><img src="./assets/icons/!.svg">0</span>
        <span class="label-wrapper" id="label-i"><img src="./assets/icons/i.svg">0</span>
      </span>
      <span class="vertical-line"></span>
      <span id="btns">
        <span onclick="window.parent.debugger.option('settings')" class="select-wrapper"><img src="./assets/icons/settings.svg" id="settings-option"></span>
        <span onclick="window.parent.debugger.option('more')" class="select-wrapper"><img style="width: 4px;" src="./assets/icons/more.svg" id="more-option"></span>
        <span onclick="window.parent.debugger.close()" class="select-wrapper"><img style="width: 9px;" src="./assets/icons/close.svg" id="debugger-close"></span>
      </span>
    </span>
  </div>
  <div id="sections">
    <div id="section-console" class="section shown">
      <div id="console-box">
      </div>
      <img id="carret" src="./assets/icons/carret.svg">
      <textarea id="console-input"></textarea>
    </div>
    <div id="section-elements" class="section">
      Elements
    </div>
  </div>
</html>

<script>
  document.addEventListener("keydown", (e) => {
    if (e.ctrlKey) {
      if (e.shiftKey) {
        if (e.key.toLowerCase() === "i") {
          e.preventDefault();
          let w = window.parent.document.getElementById("devtools");
          if(w.style.display === "none") {
            w.style.display = "block";
            localStorage.setItem("debugger-view", "block");
            document.body.width = window.innerWidth-w.width;
          } else {
            w.style.display = "none";
            localStorage.setItem("debugger-view", "none");
            document.body.width = window.innerWidth;
          }
        }
      }
    }

    if(!e.shiftKey) {
      if(e.key.toLowerCase() === "enter") {
        window.parent.window.debugger.execute();
      }
    }
  });

  window.parent.window.console.log("Loaded JS DevTools");
</script>